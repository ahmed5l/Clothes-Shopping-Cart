
<%- include('../style/bootstrapeoduct.ejs'); %>
<%- include('../style/styleProduct.ejs'); %>


<%- include('header'); %>

<style>
   
</style>


<div class="container" id="rowhome">
    <div class="main-body">
    
        
    
          <div class="row gutters-sm">
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <div class="d-flex flex-column align-items-center text-center">
                    <img src="<%= user.image%>" alt="Admin" class="rounded-circle" width="150">
                    <div class="mt-3">
                    
                      
                    </div>
                    
                  </div>
                </div>
              </div>
             
            </div>
            <div class="col-md-8">
              <div class="card mb-3">
                <div class="card-body">
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Full Name</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      Kenneth Valdez
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Email</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      <%= user.email%>
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Phone</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      <%= user.contact%>

                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Mobile</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      (320) 380-4539
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Address</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      <%= user.address%>                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-12">
                        <input type="button" class="btn btn-info px-4" id="editBtn" value="Edit">

                    </div>
                  </div>
                </div>
              </div>

              <div class="row gutters-sm">
                
                <div class="col-sm-12 mb-6">
                  <div class="card h-100">
                    <div class="card-body">
                      
                    
                            <% userOrder.forEach((order,index)=>{ %>
        
                                <h3> Order{<%=index +1 %>} </h3>
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">product Name</th>
                                            <th scope="col">Product quantity</th>
                                            <th scope="col">Product Price</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <% order.cart.selectesProduct.forEach((order1,index1)=>{ %>
        
        
                                            <tr class="table-active">
                                                <th scope="row">
                                                    <%= index1 +1 %>
                                                </th>
                                                <th>
                                                    <%=order1.name %>
                                                </th>
                                                <th>
                                                    <%=order1.quantity %>
                                                </th>
                                                <th>
                                                    <%=order1.price %>
                                                </th>
                                            </tr>
        
                                            <% }); %>
                                                <tr class="table-primary">
                                                    <td colspan="3">Total Price</td>
                                                    <td class="text-center ">
                                                        <%=order.orderPrice %>
                                                    </td>
                                                </tr>
        
                                    </tbody>
                                </table>
                                <% }); %>

                         
                    </div>
                  </div>
                </div>
              </div>



            </div>
          </div>

        </div>
    </div>


<!--Edit profile-->


<div class="container d-none" id=updateFrom>
    <div class="main-body">
        <div class="row">
            <div class="col-lg-4">
                <div class="card">
                  <form action="/profile/updateUser" method="post" enctype="multipart/form-data">
                    <div class="card-body">
                        <div class="d-flex flex-column align-items-center text-center">
                            <img src="https://bootdey.com/img/Content/avatar/avatar6.png" id="image" alt="Admin" class="rounded-circle p-1 bg-primary" width="110">
                            <div class="mt-3">
                                <h4>John Doe</h4>
                                
                            </div>
                        </div>
                        <hr class="my-4">
                        <input type="file" id="file" multiple name="myfile">
                        <div class="d-none" id="action">
                        </div>
              
                        
                    </div>
                </div>
            </div>
            
            <div class="col-lg-8">
                <div class="card">
                    <div class="card-body">
                        <div class="row mb-3">
                          
                            <div class="col-sm-3">
                                <h6 class="mb-0">Full Name</h6>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <input type="text"  name="name" class="form-control" value="John Doe">
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Email</h6>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <input type="text" name="email" class="form-control" value="<%= user.email%>">
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Phone</h6>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <input type="text" name="phone" class="form-control" value="<%= user.contact%>">
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Mobile</h6>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <input type="text" name="mobile" class="form-control" value="(320) 380-4539">
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Address</h6>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <input type="text" name="address" class="form-control" value="<%= user.address%>">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3"></div>
                            <div class="col-sm-9 text-secondary">
                                <input type="submit" class="btn btn-primary px-4" value="Save Changes">
                            </div>

                        
                        </div>
                    </div>
                </div>
              </form>

            </div>
        </div>
    </div>
</div>

<%- include('../script/script.ejs'); %>

<script>

    

        const editBtn=document.getElementById("editBtn");

           editBtn.addEventListener('click',()=>{
            document.getElementById("rowhome").classList.add("d-none");
        document.getElementById("updateFrom").classList.remove("d-none");
           })

           document.getElementById('file').onchange = function () {
        const reader = new FileReader();
        reader.readAsDataURL(this.files[0]);
        reader.onload = function () {
            document.getElementById('image').src = this.result
        }

        document.getElementById("file").classList.add("d-none");
        document.getElementById("action").classList.remove("d-none");



    }
         
</script>

